====== Drive On Demand ======

The robot drives to a guided position while navigating on given tracking positions. The guided position and the lights can be set via RSB

===== Building =====

This is a cmake project, so just type:
  - ''cmake .''
  - ''make''

===== Basic Communication =====

On the Tracking Scope the robot gets its current position. It navigates to the guided position, which is given by the Guide Input Scope. While driving and executing, the robot gives some status updates about itself via the Status Scope.

Additionally the robot can get commands via the Command Scope:
^ Command ^ Description ^
| stop                           | The robot will stop and exit the program. |
| color_<color code><light type> | The robot sets the lights to the given "color" as the given "light type". |

The communication is via RSB. The scopes are defined in the section below.

==== Color Command ====

The color commands contains the color itself and the light type, how the robot shall shine. Both have their shortcuts:
^ Color ^ Shortcut ^
| White  | w |
| Red    | r |
| Green  | g |
| Blue   | b |
| Yellow | y |

^ Light Type ^ Shortcut ^ Description ^
| Shine          | S | The robot just shine. |
| Blink          | B | The robot blinks with every LED on or off at once. |
| Warning        | W | The robot blinks with the left and right LEDs changing the states on and off. |
| Circling left  | L | Only two LEDs are turned on at once. The light circles to the left. |
| Circling right | R | Only two LEDs are turned on at once. The light circles to the right. |

Finally the command for example shining green would be 'color_gS', for a yellow warning would be 'color_yW' and for a red circling (to the left) would be 'color_rL'. Notice: The colors are always in small letters, the light types are always in capital letters.

==== RSB Scopes ====

^ Name ^ Default Scope ^ Scope Type ^ Description ^
| Tracking    | /amiro/tracking     | twbTracking::proto::Pose2D | Inscope for tracking data. |
| Command     | /amiro/command      | String                     | Inscope for commands. |
| Guide Input | /amiro/drive/guide  | twbTracking::proto::Pose2D | Inscope for guided position. |
| Status      | /amiro/drive/status | String                     | Outscope for status updates for the guide. |

===== Parameters =====

^ Parameter ^ Type ^ Default Value ^ Description ^
| trackingScope, t | String | /amiro/tracking     | Inscope for tracking data. |
| commandScope, c  | String | /amiro/command      | Inscope for commands. |
| guideInscope, i  | String | /amiro/drive/guide  | Inscope for guided position. |
| guideOutscope, o | String | /amiro/drive/status | Outscope for status updates for the guide. |
| host, h          | String | 127.0.0.1           | Host for Programatik Spread. |
| port, p          | String | 4803                | Port for Programatik Spread. |

